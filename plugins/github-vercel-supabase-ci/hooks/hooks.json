{
  "_comment": "GitHub Vercel Supabase CI Plugin - CI/CD automation for development workflows",
  "_notes": [
    "Installs and configures CI tools on session start",
    "Installs GitHub Actions workflows",
    "Syncs Vercel environment variables to .env.local",
    "Installs Playwright browsers (CI only)",
    "Waits for CI checks after PR creation",
    "Checks UI review status and blocks on critical issues",
    "Tracks task/agent calls for context"
  ],
  "description": "CI/CD automation hooks for GitHub, Vercel, and Supabase projects",
  "hooks": {
    "SessionStart": [
    {
      "hooks": [
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PLUGIN_ROOT}/hooks/setup-environment.ts",
          "description": "Installs and configures CI/CD tools (Vercel, Supabase, Docker) on session start. Ensures development environment is ready for deployment and testing."
        },
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PLUGIN_ROOT}/hooks/install-workflows.ts",
          "description": "Installs GitHub Actions workflow files for CI/CD automation. Sets up automated testing, deployment, and quality checks."
        },
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PLUGIN_ROOT}/hooks/vercel-env-setup.ts",
          "description": "Syncs Vercel environment variables from project to .env.local on session start. Ensures worktrees have the same environment configuration."
        }
      ]
    }
  ],
  "PreToolUse": [
    {
      "matcher": "Task",
      "hooks": [
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PROJECT_DIR}/shared/hooks/log-task-call.ts",
          "description": "Logs Task tool calls before agent execution. Saves context for later retrieval in SubagentStop hooks."
        }
      ]
    }
  ],
  "PostToolUse": [
    {
      "matcher": "Task",
      "hooks": [
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PROJECT_DIR}/shared/hooks/log-task-result.ts",
          "description": "Logs Task tool results after agent completion. Captures agent output and context for analysis."
        }
      ]
    },
    {
      "matcher": "Bash",
      "hooks": [
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PLUGIN_ROOT}/hooks/await-pr-checks.ts",
          "description": "Waits for CI checks to complete after PR creation. Watches GitHub PR checks and reports results, blocking on failure."
        }
      ]
    }
  ],
  "SubagentStop": [
    {
      "hooks": [
        {
          "type": "command",
          "command": "npx tsx ${CLAUDE_PLUGIN_ROOT}/hooks/check-ui-review-status.ts",
          "description": "Checks UI review workflow status for subagent commits. Blocks if critical UI issues are found in automated review."
        }
      ]
    }
  ]
  }
}
